{% extends 'content_base.html.twig' %}

{% block title %}Manage Articles{% endblock %}

{% block content_class %}{{ parent() }} show-article-container-border-green {% endblock %}

{% block content_body %}
    <div class="row">
        <div class="col-sm-12">
            <h1>Manage articles ({{ articles|length }})</h1>

            <table id="index-article-list" class="table table-striped" data-order='[[ 1, "asc" ]]' data-page-length='10'>
                <thead>
                <tr>
                    <th>Article</th>
                    <th>Slug</th>
                    <th>Author name</th>
                    <th>Content</th>
                    <th>Created at</th>
                </tr>
                </thead>
                <tbody>
                {% for article in articles %}
                    <tr>
                        <td>{{ article.title }}</td>
                        <td>{{ article.slug }}</td>
                        <td>{{ article.author }}</td>
                        <td style="width: 20%;">{{ article.content|custom_truncate(50) }}</td>
                        <td>{{ article.createdAt|date('d/m/Y') }}</td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="4" class="text-center">No articles found !!!</td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('js/article/index.js') }}"></script>
{% endblock %}
